<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>tanvi-cpt-front</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="tanvi-cpt-front" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4100/login.html" />
<meta property="og:url" content="http://localhost:4100/login.html" />
<meta property="og:site_name" content="tanvi-cpt-front" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="tanvi-cpt-front" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"tanvi-cpt-front","url":"http://localhost:4100/login.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=f1d5c4a1706a86194732478343655ab80e284f21">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4100/">tanvi-cpt-front</a></h1>
      

      <head>   
function login_user() {
      const enteredUid = document.getElementById("uid").value;
      const enteredPassword = document.getElementById("password").value;
      console.log("Uid = " + enteredUid)
      console.log("Password = " + enteredPassword)
      const signupHeaders = new Headers();
      signupHeaders.set('111', '222');
      signupHeaders.set("Accept", "*/*");
      signupHeaders.set("Accept-Language", "en-US,en;q=0.9");
      signupHeaders.set("Content-Type", "application/json");

      login_api(enteredUid,enteredPassword)
        
      }
    

    function login_api(uid, pw){
      var myHeaders = new Headers();
      myHeaders.append("Accept", "*/*");
      myHeaders.append("Accept-Language", "en-US,en;q=0.9");
      myHeaders.append("Content-Type", "application/json");
      myHeaders.append("Cookie", "jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJfdWlkIjoidG9ueSJ9.jEShka0oXI1-uCuSTfo3ed5WRw3ASLNV0Tpn1kc5GB0");


      var raw = JSON.stringify({
          "uid": uid,
          "password": pw
        });

      var requestOptions = {
          method: 'POST',
          headers: myHeaders,
          body: raw,
          redirect: 'follow'
        };

      fetch("http://127.0.0.1:8086/api/users/authenticate", requestOptions)
          .then(response =&gt; {
            if (response.ok) {
                console.log("User logged in successfully");
                window.location.href = "http://127.0.0.1:4100/student/2024/01/31/game.html"
              } else {
                console.error("User login failed");
                // You can handle failed login attempts here
                const errorMessageDiv = document.getElementById('errorMessage');
                errorMessageDiv.innerHTML = '<label style="color: red;">User Login Failed</label>';
              }
          })
          .then(result =&gt; { 
            console.log(result);
            
            })
          .catch(error =&gt; console.log('error', error));
          

      
      //return response
    }


  &lt;/script&gt;
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login Page</title>
  <link rel="stylesheet" href="styles.css" /> <!-- Include the compiled CSS file -->
</head>

<body>
  <!-- Your HTML login form -->
  <div id="errorMessage"></div>
  <form action="javascript:login_user()">
    <p><label for="uid">User ID:</label>
      <input type="text" name="uid" id="uid" required="" />
    </p>
    <p><label for="password">Password:</label>
      <input type="password" name="password" id="password" required="" />
    </p>
    <p>
     <button class="button-spacing">Log In</button>
          <button onclick="window.location.href ='http://127.0.0.1:4100/student/2024/02/06/signup.html'" class="button-spacing">Sign Up</button>
   </p>
  </form>
  <!-- Your JavaScript code --> 
</body>
<p>&lt;/html&gt;</p>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
